<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Reddit Top Content - Live</title>
<link href="css/final.css" rel="stylesheet" type="text/css">

<script type="text/javascript" src="js/jquery-1.7.2.js"></script>
<script type="text/javascript">
var domain;
var ups;
var downs;
var thumb;
var url;
var title;
var score;
var refreshes = 0;
var ctext;
var refreshevery = "5000"
//var redd = document.getElementById('Reddit');

function loadChirp(){

	$.getJSON("http://www.reddit.com/.json?jsonp=?", function(data) {
		//alert("got json");
		/*domain = data.data.children[0].data.domain;
		ups = data.data.children[0].data.ups;
		downs = data.data.children[0].data.downs;
		thumb = data.data.children[0].data.thumbnail;
		url = data.data.children[0].data.url;
		title = data.data.children[0].data.title;
		score = data.data.children[0].data.score;
		commentcnt = data.data.children[0].data.num_comments;
	/*
		var items = [];
	alert("got json");*/
var ctext = "";
	  $.each(data.data.children, function(key, val) {
		//alert(val.data.domain);
		var dom = val.data.domain;
		var up = val.data.ups;
		var down = val.data.downs;
		var thumb = val.data.thumbnail;
		var urls = val.data.url;
		var title = val.data.title;
		var score = val.data.score;
		var commentcnt = val.data.num_comments
		
		
		
		
	/*	ctext = ctext + "Title: <a href='"+urls+"'>"+ title+"</a><br>Score: "+ score +"<br>Domain: " + domain + "<br>" + "Thumbnail: <img src='"+thumb+"'><br>Comments: "+commentcnt +"<br>"+refreshes+"<br>";
	*/
	
	ctext = ctext + "<div class='content'><div class='contenttop'><h3><a href='"+urls+"'target='_blank'>"+ title+"</a></h3></div>Score: "+score+" Up:"+up+" Down:"+down+"<br><img src='"+urls+"' width='100%'></div>";
		
		
	  });
	/*
	  $('<ul/>', {
		'class': 'my-new-list',
		html: items.join('')
	  }).appendTo('body');
	 
	*/
	
	//var ctext = "test";
	document.getElementById('Reddit').innerHTML = ctext;
	refreshes = refreshes + 1;
	})
.error(function() { alert("error"); });
	
	
setTimeout("loadChirp()",refreshevery);
}

	

</script>
</head>

<body onLoad="loadChirp();">
<div class="backgroundreddit">
<div class="wrapper">

<div class="topbars">
<h1>Live Reddit Feed</h1>
</div>
<br>
<div class="topbars">
<div class="menu">
<ul title="menu">
<li title="menu"><a href="index.html">HOME</a> |</li>
<li title="menu"><a href="ragefaces.html">Rage Faces</a> |</li>
<li title="menu"><a href="">Something Else</a></li>
</ul>
</div>
</div>

<div id="Reddit"> </div>


</div>
</div>
</body>
</html>
